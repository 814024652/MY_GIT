<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:rop="http://www.rop.com/schema/rop"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
       http://www.rop.com/schema/rop http://www.rop.com/schema/rop/rop-1.0.xsd
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context-4.0.xsd">


	<rop:annotation-driven id="router"
		session-manager="sampleSessionManager"
		app-secret-manager="appSecretManager" 
		formatting-conversion-service="conversionService"
		service-timeout-seconds="30"
		core-pool-size="500" 
		max-pool-size="1000"
		queue-capacity="50" 
		keep-alive-seconds="300" 
		sign-enable="yes" />

	<bean id="sampleSessionManager" class="com.rop.session.DefaultSessionManager" />
	<bean id="appSecretManager" class="com.rop.security.FileBaseAppSecretManager" />

	<!-- appkey method validation -->
	<bean id="fileMethodAuthorizationManager" class="com.rop.security.FileMethodAuthorizationManager"/>
    <!-- 从数据库拉去appkey与访问方法映射关系
		    <bean id="gomeMethodAutorizationmManager" class="com.rop.security.GomeMethodAutorizationmManager">
	        <constructor-arg ref="appFacade"/>
	    </bean>
	 -->


	<bean id="conversionService"
		class="org.springframework.format.support.FormattingConversionServiceFactoryBean">
		<property name="converters">
			<set>
				<bean class="com.gome.rop.converter.DateConverter" />
			</set>
		</property>
	</bean>

	<rop:sysparams format-param-name="messageFormat" />


	<!--<rop:interceptors>
        <bean class="com.gome.pms.interceptor.AccessInterceptor"/>
    </rop:interceptors>-->
</beans>